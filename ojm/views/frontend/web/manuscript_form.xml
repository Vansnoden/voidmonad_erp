<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <template id="ojm_manuscript_form" name="Manuscript Form">
        <t t-call="website.layout">
            <div class="container m-auto py-3">
                <div class="form-container">
                    <div class="d-flex flex-row justify-content-between align-items-center">
                        <span class="step-btn active" id="show-step-1">1</span>
                        <span class="step-btn-sep" ></span>
                        <span class="step-btn" id="show-step-2">2</span>
                        <span class="step-btn-sep"></span>
                        <span class="step-btn" id="show-step-3">3</span>
                        <span class="step-btn-sep"></span>
                        <span class="step-btn" id="show-step-4">4</span>
                        <span class="step-btn-sep"></span>
                        <span class="step-btn" id="show-step-5">5</span>
                        <span class="step-btn-sep"></span>
                        <span class="step-btn" id="show-step-6">6</span>
                    </div>
                    <form class="form" action="/journal/submit_data" method="post" enctype="multipart/form-data">
                        <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                        <t t-if="errors">
                            <t t-foreach="errors" t-as="error">
                                <div class="alert alert-danger alert-dismissible fade show mt-3 mb-3" role="alert">
                                    <span>
                                        <t t-esc='error'/>
                                    </span>
                                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                        <span class="fa fa-close" aria-hidden="true"></span>
                                    </button>
                                </div>
                            </t>
                        </t>
                        <div class="step" id="step1">
                            <div class="step-header">
                                <div>
                                    <span class="icon fa fa-chevron-right"></span>
                                    <span class="title">Submission details</span>
                                </div>
                                <a href="#" class="btn btn-primary" id="to_step2">Next</a>
                            </div>
                            <div class="step-content row">
                                <div class="col-md-6 col-sm-10 col-xs-12">
                                    <div class="form-group">
                                        <label for="journal">Select Journal</label>
                                        <select class="form-control" id="journal" name="journal" required="true">
                                            <option value="" selected="true">
                                                -----
                                            </option>
                                            <t t-foreach="journals" t-as="journal">
                                                <option t-att-value="journal.id">
                                                    <t t-esc="journal.name"/>
                                                </option>
                                            </t>
                                        </select>
                                    </div>
                                    <div class="form-group" id="journal_sections">
                                        <!-- placeholder for  -->
                                    </div>
                                    <div class="form-group">
                                        <label for="atype">Article type</label>
                                        <select class="form-control" id="atype" name="atype">
                                            <option value="" selected="true">
                                                -----
                                            </option>
                                            <t t-foreach="atypes" t-as="atype">
                                                <option t-att-value="atype.id">
                                                    <t t-esc="atype.name"/>
                                                </option>
                                            </t>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="scope">Scope statement</label>
                                        <input type="text" class="form-control" id="scope" name="scope"/>
                                    </div>
                                </div>
                                <div class="col-md-6 col-sm-10 col-xs-12">
                                    <div class="form-group">
                                        <label for="manuscript">Manuscript</label>
                                        <input type="file" class="form-control" id="manuscript" name="manuscript"/>
                                    </div>
                                    <div class="form-group">
                                        <label for="figures">Figures</label>
                                        <input type="file" class="form-control" id="figures" name="figures" multiple="true"/>
                                    </div>
                                    <div class="form-group">
                                        <label for="other">Other supporting documents</label>
                                        <input type="file" class="form-control" id="others" name="others" multiple="true"/>
                                    </div>
                                    <div class="form-group">
                                        <label for="num_tables">Number of tables</label>
                                        <input type="number" class="form-control" id="num_tables" name="num_tables"/>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="step" id="step2">
                            <div class="step-header">
                                <div>
                                    <span class="icon fa fa-chevron-right"></span>
                                    <span class="title">Manuscript information</span>
                                </div>
                                <div>
                                    <a href="#" class="btn btn-primary" id="to_step1">Previous</a>
                                    <a href="#" class="btn btn-primary" id="to_step3">Next</a>
                                </div>
                            </div>
                            <div class="step-content row">
                                <div class="col-md-6 col-sm-10 col-xs-12">
                                    <div class="form-group">
                                        <label for="title">Article title*</label>
                                        <textarea class="form-control" id="title" name="title" rows="3" cols="8" required="true"> </textarea>
                                    </div>
                                    <div class="form-group">
                                        <label for="rtitle">Running title (max 3 words recommended) * </label>
                                        <textarea class="form-control" id="rtitle" name="rtitle" rows="3" cols="8"> </textarea>
                                    </div>
                                    <div class="form-group">
                                        <label for="keywords">Keywords (min 3,max 8) separated by semi-columns (;) *</label>
                                        <textarea class="form-control" id="keywords" name="keywords" rows="3" cols="8"> </textarea>
                                    </div>
                                </div>
                                <div class="col-md-6 col-sm-10 col-xs-12">
                                    <div class="form-group">
                                        <label for="abstract_text">Abstract (only plain text) *</label>
                                        <textarea class="form-control" id="abstract_text" name="abstract_text" rows="10" cols="8" required="true"> </textarea>
                                        <span id="total-characters"></span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="step" id="step3">
                            <div class="step-header">
                                <div>
                                    <span class="icon fa fa-chevron-right"></span>
                                    <span class="title">Authors &amp; contributors</span>
                                </div>
                                <div>
                                    <a href="#" class="btn btn-primary" id="to_step2_prev">Previous</a>
                                    <a href="#" class="btn btn-primary" id="to_step4">Next</a>
                                </div>
                            </div>
                            <div class="step-content">
                                <div id="authors">
                                    <div class="single-author row" id="author_1">
                                        <div class="col-md-6 col-sm-10 col-xs-12">
                                            <div class="form-group">
                                                <label for="mauthor_email">Email *</label>
                                                <input type="email" class="form-control" id="mauthor_email" name="mauthor_email"/>
                                            </div>
                                            <div class="d-flex flex-row align-items-center justify-content-between" style="gap:0.5em;">
                                                <div class="form-group">
                                                    <label for="mauthor_fname">First name </label>
                                                    <input type="text" class="form-control" id="mauthor_fname" name="mauthor_fname"/>
                                                </div>
                                                <div class="form-group">
                                                    <label for="mauthor_mname">Middle name </label>
                                                    <input type="text" class="form-control" id="mauthor_mname" name="mauthor_mname"/>
                                                </div>
                                                <div class="form-group">
                                                    <label for="mauthor_lname">Last name </label>
                                                    <input type="text" class="form-control" id="mauthor_lname" name="mauthor_lname"/>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-5 col-sm-10 col-xs-12">
                                            <div class="form-group">
                                                <label for="mauthor_title">Title</label>
                                                <input type="text" class="form-control" id="mauthor_title" name="mauthor_title"/>
                                            </div>
                                            <div class="form-group">
                                                <label for="mauthor_aff">Affiliation</label>
                                                <input type="text" class="form-control" id="mauthor_aff" name="mauthor_aff"/>
                                            </div>
                                        </div>
                                        <div class="col-md-1 col-sm-10 col-xs-12">
                                            <a href="#" class="btn btn-danger" id="close_author_1">
                                                <span class="fa fa-trash"></span>
                                            </a>
                                        </div>
                                    </div>
                                </div>
                                <div class="mt-3 d-flex flex-row justify-content-start align-items-center p-0">
                                    <a href="#" class="btn btn-primary" id="add_author">
                                        Add author
                                    </a>
                                </div>
                            </div>
                        </div>


                        <div class="step" id="step4">
                            <div class="step-header">
                                <div>
                                    <span class="icon fa fa-chevron-right"></span>
                                    <span class="title">Suggest reviewers</span>
                                </div>
                                <div>
                                    <a href="#" class="btn btn-primary" id="to_step3_prev">Previous</a>
                                    <a href="#" class="btn btn-primary" id="to_step5">Next</a>
                                </div>
                            </div>
                            <div class="step-content">
                                <div id="reviewers">
                                    <div class="single-reviewer row" id="review_1">
                                        <div class="col-md-6 col-sm-10 col-xs-12">
                                            <div class="form-group">
                                                <label for="mrev_email">Email *</label>
                                                <input type="email" class="form-control" id="mrev_email" name="mrev_email"/>
                                            </div>
                                            <div class="d-flex flex-row align-items-center justify-content-between" style="gap:0.5em;">
                                                <div class="form-group">
                                                    <label for="mrev_fname">First name </label>
                                                    <input type="text" class="form-control" id="mrev_fname" name="mrev_fname"/>
                                                </div>
                                                <div class="form-group">
                                                    <label for="mrev_mname">Middle name </label>
                                                    <input type="text" class="form-control" id="mrev_mname" name="mrev_mname"/>
                                                </div>
                                                <div class="form-group">
                                                    <label for="mrev_lname">Last name </label>
                                                    <input type="text" class="form-control" id="mrev_lname" name="mrev_lname"/>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-5 col-sm-10 col-xs-12">
                                            <div class="form-group">
                                                <label for="mrev_title">Title</label>
                                                <input type="text" class="form-control" id="mrev_title" name="mrev_title"/>
                                            </div>
                                            <div class="form-group">
                                                <label for="mrev_comment">Comment</label>
                                                <textarea class="form-control" id="mrev_comment" name="mrev_comment" rows="3" cols="8"> </textarea>
                                            </div>
                                        </div>
                                        <div class="col-md-1 col-sm-10 col-xs-12">
                                            <a href="#" class="btn btn-danger" id="close_review_1">
                                                <span class="fa fa-trash"></span>
                                            </a>
                                        </div>
                                    </div>
                                </div>
                                <div class="mt-3 d-flex flex-row justify-content-start align-items-center">
                                    <a href="#" class="btn btn-primary" id="add_reviewer">
                                        Add reviewer
                                    </a>
                                </div>
                            </div>
                        </div>


                        <div class="step" id="step5">
                            <div class="step-header">
                                <div>
                                    <span class="icon fa fa-chevron-right"></span>
                                    <span class="title">Payment &amp; funding</span>
                                </div>
                                <div>
                                    <a href="#" class="btn btn-primary" id="to_step4_prev">Previous</a>
                                    <a href="#" class="btn btn-primary" id="to_step6">Next</a>
                                </div>
                            </div>
                            <div class="step-content">
                            </div>
                        </div>


                        <div class="step" id="step6">
                            <div class="step-header">
                                <div>
                                    <span class="icon fa fa-chevron-right"></span>
                                    <span class="title">Statements</span>
                                </div>
                                <div>
                                    <a href="#" class="btn btn-primary" id="to_step5_prev">Previous</a>
                                </div>
                            </div>
                            <div class="step-content">
                                <t t-foreach="submission_rules" t-as="rule">
                                    <div class="form-group">
                                        <label t-att-for="rule.code">
                                            <input type="checkbox" class="" t-att-id="rule.code" t-att-name="rule.code"/>
                                            <b><t t-esc='rule.name'/></b>: <span><t t-esc='rule.description'/></span>
                                        </label>
                                    </div>
                                </t>
                            </div>
                            <div class="mt-3 p-4 d-flex flex-row justify-content-start align-items-center">
                                <button class="btn btn-primary" type="submit">
                                    Submit
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </t>
    </template>

</odoo>
